(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{6312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rechercher-api",function(){return t(310)}])},310:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return x},default:function(){return y}});var r=t(5893),u=t(7294),i=t(7209),c=t(6486),a=t(4795),o=function(e){var n=e.search,t=e.setTheme,u=e.allThemesOptions,i=e.setAPIType,c=e.allAPITypeOptions,o=e.searchFromQueryString;return(0,r.jsxs)("section",{id:"search-api-filters",className:"fr-container ",children:[(0,r.jsx)(a.Lt,{label:"Th\xe9matique",onChange:t,placeholder:"Toutes les th\xe9matiques",selectOptions:u}),(0,r.jsx)(a.Lt,{label:"Modalit\xe9 d\u2019acc\xe8s",onChange:i,placeholder:"Tous les acc\xe8s",selectOptions:c,width:350}),(0,r.jsx)(a.E1,{onSearch:n,style:{marginTop:"10px",width:"400px",maxWidth:"100%"},defaultValue:o,placeholder:"Recherchez un service, un minist\xe8re",label:"Rechercher"})]})},s=t(1276);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var f=function(e){var n=e.apiList;return(0,r.jsx)("section",{id:"api-results",className:"page-body-container",children:(0,r.jsxs)("div",{className:"fr-container",children:[(0,r.jsxs)("div",{className:"results-counter ",children:[n.length," r\xe9sultat",n.length>1&&"s"]}),(0,r.jsx)("div",{className:"default-grid",children:n.length>0?n.map((function(e){return(0,r.jsx)(s.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},e),e.title)})):(0,r.jsx)("div",{children:(0,r.jsx)("b",{children:"Aucun r\xe9sultat trouv\xe9 pour la recherche."})})})]})})},h=t(93),d=t(3454),p=(0,c.debounce)((function(e,n,t){if(window.Piwik){var r=window.Piwik.getTracker("".concat(d.env.PIWIK_URL,"/piwik.php"),d.env.PIWIK_SITE_ID);r&&r.trackSiteSearch(e,n,t)}}),1e3),v=[{value:h.VC.OPEN,label:"Les API ouvertes \xe0 tous"},{value:h.VC.NOT_OPEN,label:"Les API en acc\xe8s restreint"},{value:h.VC.FRANCE_CONNECT,label:"Les API compatibles avec FranceConnect"}],b=function(e){var n=e.allApis,t=e.allThemes,i=(0,u.useState)(n),c=i[0],a=i[1],s=(0,u.useState)(null),l=s[0],d=s[1],b=(0,u.useState)(null),m=b[0],g=b[1],x=(0,u.useState)(""),y=x[0],j=x[1],w=t.map((function(e,n){return{value:n,label:e}}));(0,u.useEffect)((function(){var e=n,t=y.split(" ").filter((function(e){return!!e}));t.length>0&&(e=n.map((0,h.cI)(t)).filter((function(e){return 0!==e.score})));var r=e.filter((0,h.aZ)(m)).filter((0,h.yu)(l)).sort((function(e,n){return e.score&&n.score?n.score-e.score:(n.visits_2019||0)-(e.visits_2019||0)})),u="".concat(l).concat(m||"");return p(y,u,r.length),a(r),function(){}}),[l,m,y,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{allThemesOptions:w,setTheme:function(e){var n;try{n=parseInt(e,10)}catch(r){n=0}n&&d(null);var t=w.reduce((function(e,t){return t.value===n?t.label:e}),null);d(t)},allAPITypeOptions:v,setAPIType:g,search:j}),(0,r.jsx)(f,{apiList:c})]})},m=t(4034),g=t(769),x=!0,y=function(e){var n=e.allApis,t=e.allThemes;return(0,r.jsxs)(i.Z,{headerKey:m.NB.APIS,preFooterBackground:g.Z.colors.white,title:"Rechercher une API du service public",description:"Vous faites partie d'un minist\xe8re ou d'une collectivit\xe9 et vous cherchez une API du service public ? Vous \xeates au bon endroit.",children:[(0,r.jsx)("section",{className:"fr-container page-baseline",children:(0,r.jsx)("h1",{children:"Vous recherchez une API du service public ? Vous \xeates au bon endroit !"})}),(0,r.jsx)(b,{allApis:n,allThemes:t})]})}},2738:function(e,n,t){"use strict";t.d(n,{AW:function(){return a.A},mH:function(){return o},Fv:function(){return i},v1:function(){return u},an:function(){return a.a},Vj:function(){return c}});var r=t(6486),u=function(e){var n=function(e){if(""===e)return function(){return[]};var n=new RegExp("".concat((0,r.escapeRegExp)(e)),"g");return function(t){for(var r,u=[];r=n.exec(t||"");)u.push([r.index,r.index+e.length]);return u}}(i(e||"").toLowerCase());return function(e){var t=i(e||"").toLowerCase();return n(t)}},i=function(e){try{return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}catch(n){return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return Math.random().toString(36).substring(e)},a=t(5053),o=function(e,n){var t;return t=12*(n.getFullYear()-e.getFullYear()),t-=e.getMonth(),(t+=n.getMonth())<=0?0:t}},5053:function(e,n,t){"use strict";t.d(n,{A:function(){return i},a:function(){return c}});var r=t(769),u=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(e){var n=r.Z.colors,t=n.red,u=n.orange,i=n.green,c=t;return e>=98?c=i:e>=90&&(c=u),c},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return function(n){if(("undefined"===typeof n?"undefined":u(n))===Number)return n.toFixed(e);var t=Math.pow(10,e);return(parseInt(n*t,10)/t).toFixed(e)}}}},function(e){e.O(0,[662,645,209,276,774,888,179],(function(){return n=6312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);