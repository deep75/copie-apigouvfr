{"pageProps":{"guide":{"title":"Comment installer le widget formulaire de dépôt d'offre d'alternance sur son site ?","tagline":"Intégrez le widget LBA sur votre site, pour afficher les formations et les entreprises qui proposent un apprentissage.","tags":"cas usage, La Bonne alternance, apprentissage, widget, pole emploi, matcha, alternance","image":"code.jpg","noindex":false,"publish":true,"api":["API La Bonne Alternance"],"body":"Voici à quoi ressemble le widget La Bonne Alternance. Il permet d'afficher directement sur votre site les formations et les entreprises qui proposent un apprentissage en interrogeant les données de <External href=\"/les-api/api-la-bonne-alternance\">l'API La Bonne Alternance</External>\n\n<iframe style=\"height: 700px; width: 380px;max-width: 100%;margin: auto;display: block;\" src=\"https://labonnealternance.apprentissage.beta.gouv.fr/recherche-apprentissage?radius=60&romes=F1702,F1705,F1701&scope=all&lat=47&lon=2.2&caller=ID_service_appelant_labonnealternance&return_uri=/&return_logo_url=https://api.gouv.fr/images/api-logo/dinum.png\" />\n\n## Comment intégrer le widget ?\n\nVous devez intégrer le widget avec le périmètre désiré dans une Iframe. Ex :\n\n```\n<iframe src=\"https://labonnealternance.apprentissage.beta.gouv.fr/${perimètre}\" />\n```\n\nVous devez ensuite **paramétrer le widget** en ajoutant les paramètres à la fin de l'url, dans l'Iframe. Voici un exemple de paramètres :\n\n```\n?radius=60&romes=F1702,F1705,F1701&scope=all&lat=47&lon=2.2&caller=ID_service_appelant_labonnealternance&return_uri=/&return_logo_url=https://url/image.png\n```\n\nVoici un exemple d'Iframe paramétrée :\n\n```\n<iframe style=\"height: 660px; width: 360px;max-width: 100%;margin: auto;display: block;\" src=\"https://labonnealternance.apprentissage.beta.gouv.fr/recherche-apprentissage?radius=60&romes=F1702,F1705,F1701&scope=all&lat=47&lon=2.2&caller=ID_service_appelant_labonnealternance&return_uri=/&return_logo_url=https://api.gouv.fr/images/api-logo/dinum.png\" />\n```\n\nVous pouvez utilisez l’outil suivant pour tester les différentes versions possibles du widget :\n\n<Button href=\"https://labonnealternance.apprentissage.beta.gouv.fr/test-widget\">Tester le widget</Button>\n\n## Explication des périmètres\n\nLe choix d'un périmètre (path) est obligatoire. En l'absence vous serez redirigé vers la homepage du site.\n\n| Périmètre / Path                     | Description                                                           |\n| ------------------------------------ | --------------------------------------------------------------------- |\n| `/recherche-apprentissage`           | La recherche portera sur les formations ET les opportunités d'emploi. |\n| `/recherche-emploi`                  | La recherche portera sur les opportunités d'emploi seulement.         |\n| `/recherche-apprentissage-formation` | La recherche portera sur les formations uniquement.                   |\n\n## Explication des paramètres\n\n| Paramètre         | Description                                                                                                                                                                                           |\n| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | --- | ---------------------------------------------------------------------------- |\n| `radius`          | Optionnel. Valeur numérique.<br/> Valeurs autorisées : `10                                                                                                                                            | 30                                                                | 60  | 100` <br/> Le rayon de recherche autour du lieu en km. Valeur par défaut 30. |\n| `romes`           | Optionnel. Une liste de codes romes séparés par des virgules.<br/> Ex : `A1021                                                                                                                        | F1065,F1066,F1067`<br/> Maximum 3 romes. Valeur par défaut `null` |\n| `lat`             | Optionnel. Coordonnée géographique en degrés décimaux (float)<br/> Valeur par défaut `null`<br/> La partie lattitude des coordonnées gps.                                                             |\n| `lon`             | Optionnel. Coordonnée géographique en degrés décimaux (float)<br/> Valeur par défaut `null`<br/> La partie longitude des coordonnées gps.                                                             |\n| `caller`          | **Obligatoire**. L'identification du site appelant<br/> A fixer lors de la mise en place avec l’équipe de Labonnealternance.                                                                          |\n| `return_uri`      | Optionnel. Valeur par défaut `/`<br/> L'uri de retour qui sera notifiée au site appelant.                                                                                                             |\n| `return_logo_url` | Optionnel. Valeur par défaut : logo du site Labonnealternance.pole-emploi.fr<br/> L'url du logo du site vers lequel l'utilisateur revient en cliquant sur le bouton de retour dans Labonnealternance. |\n\nSi **lat, lon** et **romes** sont correctement renseignés une recherche sera lancée automatiquement en utilisant ces critères. Si radius est correctement renseigné il sera utilisé comme critère de la recherche.\n\n### Bouton de retour\n\nCliquer sur le logo en haut du formulaire ou d’une liste de résultat permet de signaler à la page appelante une instruction de changement de page.\n\nSi vous ne codez rien cette fonctionnalité n’a pas d’effet.\n\nPour bénéficier du bouton de retour vous devez ajouter un listener pour l'API postMessage de javascript et coder l’action de navigation :\n\n```\nwindow.addEventListener('message',function(e){\n/*Remplacer par votre code pour gérer la navigation vers la page de votre site correspondante aux paramètres transmis par Labonnealternance dans le message*/\n\nconsole.log(\"Type du message goToPage \", e.data.type);\nconsole.log(\"URI de la page de redirection \", e.data.page);\n});\n```\n","path":"/guides/widget-la-bonne-alternance","slug":"widget-la-bonne-alternance"},"related_guides":[]},"__N_SSG":true}